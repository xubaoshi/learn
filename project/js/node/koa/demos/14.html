<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>14</title>
</head>

<body>
  <form action="/add" method="post">
    <div>
      <label>姓名：</label>
      <span>
        <input name=’userName‘ type="text">
      </span>
    </div>
    <div>
      <label>性别：</label>
      <span>
        <input name=’userSex‘ type="text">
      </span>
    </div>
    <div>
      <label>手机号：</label>
      <span>
        <input name=’userTel‘ type="text">
      </span>
    </div>
    <div>
        <label>照片：</label>
        <span>
          <input type="file" name='userPic' type="text" />
        </span>
    </div>
    <div>
      <button type="submit">提交</button>
    </div>
  </form>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <script>
    $(function () {
      $('[name="userPic"]').change(function () {
        var form = new FormData()
        form.append('file', $(this)[0].files[0])
        $.ajax({
          url: '/upload',
          type: 'POST',
          cache: false,
          data: form,
          processData: false,
          contentType: false
        }).done(function (res) {
          console.log(res)
        })
      })
    })
  </script>
</body>

</html>